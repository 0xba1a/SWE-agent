#!/usr/bin/env bash
set -euo pipefail
source /root/tools/defaults/lib/utils.sh

main() {
    local filename="${1:-}"
    if [ -z "${filename}" ]; then
        echo "Usage: create <filename>"
        exit 1
    fi

    # Check if the file already exists
    if [ -e "${filename}" ]; then
        echo "Error: File '${filename}' already exists."
        open "${filename}" || exit 1
        exit 1
    fi

    # Create the file an empty new line
    printf "\n" > "${filename}"
    # Use the existing open command to open the created file
    open "${filename}" || exit 1
}

main "$@"
